import{d as a,r as e,f as l,g as o,h as t,c as s,a as d,i,t as v,o as n,p as r,e as u,b as c,_ as p}from"./index-f48e1afa.js";const w=a=>(r("data-v-f1713655"),a=a(),u(),a),m={class:"video-chat-container"},f={key:0},h=["src"],g={key:1,class:"end-screen"},k=w((()=>d("svg",{t:"1718818864414",class:"icon",viewBox:"0 0 1422 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4061",width:"200",height:"200"},[d("path",{d:"M851.911111 398.990222c-184.234667-100.664889-299.918222-82.375111-347.050667 54.812445-111.104 52.081778-128.768 127.488-52.963555 226.218666-86.129778 106.837333-68.465778 178.062222 52.963555 213.617778 0 23.438222 0 70.712889 96.256 114.972445 96.256 44.288 302.449778-91.505778 658.773334 0 112.071111 0 214.328889-373.816889 133.262222-508.984889-54.044444-90.112-234.467556-123.676444-541.240889-100.636445z",fill:"#FFC2C2","p-id":"4062"}),d("path",{d:"M451.527111 815.331556c-15.644444-27.904 12.373333-65.308444 62.520889-83.541334 50.176-18.204444 111.672889-5.233778 127.317333 22.641778 15.616 27.904-20.536889 60.16-70.712889 78.392889-50.176 18.232889-103.509333 10.382222-119.125333-17.493333zM488.675556 577.706667c11.235556-29.866667 58.481778-44.771556 105.528888-33.308445 47.018667 11.434667 77.454222 53.134222 66.218667 82.972445-11.235556 29.866667-59.875556 36.551111-106.894222 25.088-47.047111-11.434667-76.060444-44.942222-64.853333-74.752zM722.204444 470.784c-12.942222 23.324444-56.234667 30.378667-96.654222 15.786667-40.391111-14.592-63.061333-52.224-50.062222-75.52 12.970667-23.324444 56.632889-23.466667 97.052444-8.874667 40.419556 14.592 62.663111 45.312 49.692445 68.608zM630.272 942.136889c-15.274667-28.074667 0.910222-60.899556 36.124444-73.301333 35.271111-12.373333 83.000889 6.058667 98.304 34.133333 15.303111 28.131556-7.68 55.239111-42.894222 67.640889-35.271111 12.373333-76.231111-0.369778-91.534222-28.444445z",fill:"#FDFCFA","p-id":"4063"}),d("path",{d:"M724.110222 662.954667c0 42.609778 22.328889 86.926222 51.882667 105.500444-5.831111 44.714667 20.792889 87.921778 62.008889 98.531556 36.693333 9.443556 73.216-10.040889 89.486222-44.885334 32.170667-18.033778 57.116444-70.4 60.103111-133.518222 3.328-71.253333-22.471111-132.152889-59.562667-146.432-12.259556-34.616889-39.082667-58.652444-70.172444-58.652444-42.666667 0-80.981333 31.772444-80.981333 87.608889 0 3.015111 0.113778 6.058667 0.312889 9.102222-30.122667 10.752-53.077333 39.537778-53.077334 82.773333zM270.791111 612.352c63.886222 131.783111 137.130667 167.253333 219.676445 106.410667 84.366222 14.051556 125.041778-22.670222 122.026666-110.136889 92.416-27.704889 111.303111-76.032 56.689778-145.066667 9.528889-13.596444 28.728889-41.016889-8.049778-105.045333-36.778667-64-209.237333-67.356444-374.755555-262.4C222.606222 51.484444 12.572444 227.640889 3.783111 338.375111c-5.888 73.813333 83.114667 165.148444 267.008 273.976889z",fill:"#F9999A","p-id":"4064"})],-1))),I=w((()=>d("div",{class:"room-link-wrapper"},[d("div",{class:"room-link"}," PuppyChat ")],-1))),C={key:2,class:"flower-area"},M=[c('<div class="petal" data-v-f1713655></div><div class="petal" data-v-f1713655></div><div class="petal" data-v-f1713655></div><div class="petal" data-v-f1713655></div><div class="petal" data-v-f1713655></div>',5)],y=p(a({__name:"VideoLayout",setup(a){const r=e(""),u=e(!1),c=e(!1),p=e(!1),w=e(null),y=e(null),b=e(null);l((()=>{window.roomId.value?(r.value=`https://v3demo.mediasoup.org/?roomId=${window.roomId.value}`,u.value=!0,c.value=!0,w.value=new Date,window.socket.on("endCalls",(a=>{console.log("Received endCalls:",a),a.user!=window.userName&&a.roomId==window.roomId.value&&(p.value=!0,u.value=!1,y.value=new Date)}))):alert("Please enter a valid 3-digit Room ID.")}));const z=()=>{p.value=!0,u.value=!1,y.value=new Date,window.socket.emit("endCalls",{roomId:window.roomId.value,user:window.userName})},F=()=>{window.history.back()},_=o((()=>{if(console.log("startTime.value:::::::::::::::::::::::",w.value),!w.value||!y.value)return"00:00";const a=y.value.getTime()-w.value.getTime(),e=Math.floor(a/6e4),l=Math.floor(a%6e4/1e3);return`${e.toString().padStart(2,"0")}:${l.toString().padStart(2,"0")}`}));return t((()=>{var a;if(u.value&&b.value){const e=null==(a=b.value.contentWindow)?void 0:a.stream;e&&e.getTracks().forEach((a=>a.stop()))}})),(a,e)=>(n(),s("div",m,[p.value?i("",!0):(n(),s("div",f,[d("button",{onClick:z,class:"hangup-button"},"Hang Up"),d("iframe",{ref_key:"videoIframe",ref:b,src:r.value,frameborder:"0",width:"100%",height:"500px",allow:"camera; microphone; fullscreen",id:"videoIframe"},null,8,h)])),p.value?(n(),s("div",g,[k,d("p",null,"With Puppyï¼š"+v(_.value),1),d("button",{class:"btn",onClick:F},"End")])):i("",!0),I,p.value?(n(),s("div",C,M)):i("",!0)]))}}),[["__scopeId","data-v-f1713655"]]);export{y as default};
